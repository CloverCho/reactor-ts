reactor Ramp(p:int (10)) {
  input set:int;
  output out:int;
  clock c(p);
  constructor {=
    int count = 0;
  =}
  reaction(c) -> out {=
    count ++;
    set(out , count);
  =}
  reaction(set) {=
    count = set;
  =}
}

reactor Print {
  input in:int;
  reaction(in) {=
     printf("%d\n", in);
  =}
}


composite App {
  a = new Ramp(p=100);
  b = new Print();
  a.out  -> b.in;
}
